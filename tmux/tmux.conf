### INSTALLATION NOTES ###
# 1. Install Homebrew (https://github.com/mxcl/homebrew)
# 2. brew install zsh
# 3. Install OhMyZsh (https://github.com/robbyrussell/oh-my-zsh)
# 4. brew install reattach-to-user-namespace --wrap-pbcopy-pbpaste && brew link reattach-to-user-namespace
# 5. Install iTerm2
# 6. In iTerm2 preferences for your profile set:
#      Character Encoding: Unicode (UTF-8)
#      Report Terminal Type: xterm-256color
# 7. Put itunesartist and itunestrack into PATH
#
#
# Usage:
# - Prefix is set to Ctrl-a (make sure you remapped Caps Lock to Ctrl)
# - All prefixed with Ctrl-a
#   - Last used window: /
#   - Last used pane:   ;
#   - Vertical split:   v
#   - Horizontal split: s
#   - Previous window:  [
#   - Next window:      ]
#   - Choose session:   Ctrl-s
#   - Quick window:     Ctrl-q

set -g default-terminal "xterm-ghostty"
setenv -g COLORTERM "truecolor"

# Use ctrl-a as prefix
unbind C-b
set -g prefix C-a
bind C-a send-prefix

# Getting interesting now, we use the vertical and horizontal symbols to split
# the screen
bind | split-window -h
bind - split-window -v

# Killing windows and panes
bind w kill-pane
bind q kill-window

# Clearing the pane
bind-key C-k send-keys -R \; clear-history

# Start windows and panes index at 1, not 0.
set -g base-index 1
setw -g pane-base-index 1

# Ensure window index numbers get reordered on delete.
set-option -g renumber-windows on

# set terminal title
set-option -g set-titles on
set-option -g set-titles-string "#S / #W"

# auto rename tmux window to current cwd
set-option -g status-interval 1
set-option -g automatic-rename on
set-option -g automatic-rename-format '#{b:pane_current_path}'

# set search mode to vi style
set-window-option -g mode-keys vi

# reload config file
bind r source-file ~/.tmux.conf

#---------------------------------
# mouse settings
#---------------------------------
set -s escape-time 0
set -g mouse on
#---------------------------------
# tmux plugins
#---------------------------------
set -g @plugin 'tmux-plugins/tpm'
set -g @plugin 'arcticicestudio/nord-tmux'
set -g @plugin 'tmux-plugins/tmux-resurrect'
set -g @plugin 'tmux-plugins/tmux-continuum'
set -g @plugin 'tmux-plugins/tmux-sensible'
set -g @plugin 'tmux-plugins/tmux-prefix-highlight'
set -g @plugin 'tmux-plugins/tmux-yank'
#---------------------------------
# nord settings
#---------------------------------
set -g @nord_tmux_show_status_content "1"
# set -g @nord_tmux_date_format "%B %e %Y"
set -g @nord_tmux_date_format "%d %b %Y"
#---------------------------------
# resurrect settings
#---------------------------------
set -g @resurrect-capture-pane-contents 'on'
# Resurrect neovim sessions
set -g @resurrect-strategy-nvim 'session'
#---------------------------------
# continuum settings
#---------------------------------
set -g @continuum-restore 'on'
#---------------------------------
# prefix-highlight settings
#---------------------------------
set -g @prefix_highlight_show_copy_mode 'on'
#---------------------------------
# default-shell settings
#---------------------------------
set-option -g default-shell $SHELL
#---------------------------------
# style settings
#---------------------------------
setw -g clock-mode-style 12

run -b '~/.tmux/plugins/tpm/tpm'